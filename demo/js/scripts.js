Array.prototype.max = function() {
  return Math.max.apply(null, this);
};

// Empty JS for your own code to be here
$('#run-btn').on('click', function (e) {
    var n_workers = $('#select-n_workers').val();
    var n_gold_q = $('#select-n_gold_q').val();
    var agg = $('#select-agg').val();
    var features = $('#select-features').val();
    var model_freq = $('#select-model_freq').val();
    var use_ta = $('#checkbox-ta').is(":checked");
    var use_early_stop = $('#checkbox-early_stop').is(":checked");

    console.log(use_ta);
    console.log(use_early_stop);
    console.log(agg);
    console.log(n_gold_q);
    console.log(model_freq);
    console.log(features);

    plotly_plot(n_workers, n_gold_q, agg, features, model_freq, use_ta, use_early_stop);
    /*
    if (n_workers.length == 0 || n_gold_q.length == 0 || agg.length == 0){
        msg = 'Some items are empty'
        window.alert(msg);
    }
    else if ((agg == 'Ours: w/ Semi-supervised CV model' || agg == 'Prior work: w/ CV model') && (features.length == 0 || model_freq.length == 0)) {
        msg = 'CV mode is used. Please select the features and the model update frequency'
        window.alert(msg);
    }
    else {
        // Change the src based on variable given
        var parent = $("embed#html-results").parent();
        var newElement = "<embed id='html-results' type='text/html' src='assets/results/example_plot.html' width=100% height=100%>";
        $("embed#html-results").remove();
        parent.append(newElement);    
    }
    */
})

function _plotly_plot(frames, slider_steps, button_visible=true, max_x=1000){
    var data = [
        {x: [0], y: [0], mode: 'markers+lines', xaxis: "x1", yaxis: "y1", marker: {size: 4}, hovertemplate: "Cost: $%{x:.2f}<br>Top1 Acc.: %{y:.2f}", name: "Label Top1 Accuracy", showlegend: false}, 
        {x: [0], y: [0], mode: 'markers+lines', xaxis: "x2", yaxis: "y2", marker: {size: 4}, hovertemplate: "Cost: $%{x:.2f}<br>Top1 Acc.: %{y:.2f}", name: "CV model Top1 Acc.", showlegend: false}, 
        {x: [0], y: [0], mode: 'markers+lines', xaxis: "x3", yaxis: "y3", marker: {size: 4}, hovertemplate: "Cost: $%{x:.2f}<br>Precision: %{y:.2f}", name: "Label Precision", showlegend: false}, 
    ];

    var layout = {
        width: 800, height: 400, template: "plotly_white", 
        margin: {t: 30, l: 30, r:30, b: 30}, 
        xaxis1: {domain: [0.0, 0.26], anchor: "y1", title: "", range: [0, max_x], showline: true, linewidth: 2, linecolor: "black"}, 
        yaxis1: {domain: [0.0, 1.], anchor: "x1", title: "Label Top1 Acc.", range: [70, 100], showline: true, linewidth: 2, linecolor: "black"}, 
        xaxis2: {domain: [0.36, 0.62], anchor: "y2", title: "Cost", range: [0, max_x], showline: true, linewidth: 2, linecolor: "black"}, 
        yaxis2: {domain: [0.0, 1.], anchor: "x2", title: "CV model Top1 Acc.", range: [70, 100], showline: true, linewidth: 2, linecolor: "black"}, 
        xaxis3: {domain: [0.74, 1.], anchor: "y3", title: "", range: [0, max_x], showline: true, linewidth: 2, linecolor: "black"}, 
        yaxis3: {domain: [0.0, 1.], anchor: "x3", title: "Label Precision", range: [90, 100], showline: true, linewidth: 2, linecolor: "black"}, 
        sliders: [{
            pad: {t: 30},
            x: 0.05,
            len: 0.95,
            currentvalue: {
                xanchor: 'left',
                prefix: 'Cost: $',
                font: {
                color: '#888',
                size: 20
                }
            },
            transition: {duration: 500}, 
            steps: slider_steps
        }], 
        updatemenus: [{
            type: 'buttons',
            showactive: true,
            visible: button_visible,
            x: 0.05,
            y: 0,
            xanchor: 'right',
            yanchor: 'top',
            pad: {t: 60, r: 20},
            buttons: [{
              label: 'Play',
              method: 'animate',
              args: [null, {
                fromcurrent: true,
                frame: {redraw: false, duration: 1000},
                transition: {duration: 500}
              }]
            }]
          }]
    };

    Plotly.newPlot('graph', {
        data: data, 
        layout: layout,
        frames: frames
    })
}

_plotly_plot([], [], false);

function plotly_plot(n_workers, n_gold_q, agg, features, model_freq, use_ta, use_early_stop) {
    var res = results['imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=20'];
    var x = res['x'];
    var agg_top1 = res['agg_top1'];
    var learner_top1 = res['learner_top1'];
    var agg_valid_top1 = res['agg_valid_top1'];

    // round to integer value
    var new_x = [];
    for (const [i, x_i] of x.entries()) {
        new_x.push(Math.round(x_i));
    }
    x = new_x;
    const max_x = x.max() * 1.1;
    
    var slider_steps = [];
    for (const [i, x_i] of x.entries()) {
        slider_steps.push({
            label: x_i, method: 'animate', args: [[x_i], {mode: 'immediate', frame: {redraw: false, duration: 500}, transition: {duration: 500}}]
        });
    }
    
    var frames = [];
    for (const [i, x_i] of x.entries()) {
        frames.push({name: x_i, data: [
            {x: x.slice(0, i+1), y: agg_top1.slice(0, i+1), mode: 'markers+lines', xaxis: "x1", yaxis: "y1", marker: {size: 4}, hovertemplate: "Cost: $%{x:.2f}<br> Top1 Acc.: %{y:.2f}", name: "Label Top1 Accuracy", showlegend: false}, 
            {x: x.slice(0, i+1), y: learner_top1.slice(0, i+1), mode: 'markers+lines', xaxis: "x2", yaxis: "y2", marker: {size: 4}, hovertemplate: "Cost: $%{x:.2f}<br> Top1 Acc.: %{y:.2f}", name: "CV model Top1 Acc.", showlegend: false}, 
            {x: x.slice(0, i+1), y: agg_valid_top1.slice(0, i+1), mode: 'markers+lines', xaxis: "x3", yaxis: "y3", marker: {size: 4}, hovertemplate: "Cost: $%{x:.2f}<br> Precision: %{y:.2f}", name: "Label Precision", showlegend: false}
        ]});
    }
    
    _plotly_plot(frames, slider_steps, true, max_x);
    
}


var results = "{\"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=20\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.33366434955313, 78.53525322740815, 84.29493545183713, 86.83714001986097, 91.0377358490566, 93.32174776564052, 95.00496524329692, 96.49453823237339, 97.55213505461768, 98.08341608738829], \"learner_top1\": [62.33366434955313, 77.15988083416087, 81.73783515392255, 81.73783515392255, 85.80436941410129, 86.08738828202583, 87.32869910625621, 87.71598808341608, 87.71598808341608, 88.02879841112214], \"agg_valid_top1\": [97.5551580202743, 96.37667660208645, 96.81268882175227, 96.95378876839123, 97.60667903525047, 98.0828040461068, 98.25102303940804, 98.30004249893753, 98.25663896209204, 98.59898477157361]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=0\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [63.22740814299901, 77.05064548162859, 80.99801390268124, 84.77159880834161, 87.94935451837141, 89.89572989076466, 92.13008937437934, 93.76861966236345, 95.04468718967229, 95.74975173783515], \"learner_top1\": [63.22740814299901, 76.09235352532274, 79.00198609731876, 81.47964250248262, 84.31479642502482, 84.31479642502482, 86.37040714995035, 86.83714001986097, 87.1648460774578, 87.1648460774578], \"agg_valid_top1\": [97.85465790490916, 96.35980457898266, 96.19063057221592, 96.6644576982549, 96.68330487324313, 96.54242275625306, 96.73631497150751, 96.91232318784743, 96.85921717171718, 96.74780222572285]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=20\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [60.47169811320755, 69.83614697120159, 73.55511420059582, 77.39324726911619, 77.84011916583913, 83.0635551142006, 84.08639523336645, 86.8421052631579, 88.8480635551142, 90.49652432969215], \"learner_top1\": [60.47169811320755, 69.55809334657398, 73.14796425024826, 76.46971201588877, 76.46971201588877, 81.39523336643497, 81.75769612711022, 83.57994041708044, 85.53624627606753, 85.93843098311818], \"agg_valid_top1\": [97.98747763864043, 97.06964520367937, 96.93462621207381, 97.52941176470588, 97.62236615561204, 98.02002730996814, 98.22602304049755, 98.24841824841825, 98.29683698296837, 98.22373838371956]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=50\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.96425024826217, 72.04568023833168, 75.5759682224429, 76.82224428997021, 81.39026812313803, 83.19761668321748, 85.70506454816285, 87.38331678252234, 90.4369414101291, 92.57696127110229], \"learner_top1\": [62.96425024826217, 71.76266137040716, 75.07944389275075, 75.75968222442899, 79.91559086395233, 81.09731876861966, 83.18768619662363, 83.18768619662363, 85.84409136047665, 87.68123138033764], \"agg_valid_top1\": [97.67306573589296, 97.22423364711562, 97.29967713530966, 97.39399673174508, 97.9457550954903, 97.75731471855042, 98.01447776628748, 97.93921327198497, 98.11998053054272, 98.19621899751402]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=20\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [63.6395233366435, 69.48361469712016, 73.22244289970209, 78.65938430983118, 80.14895729890765, 83.8232373386296, 85.85898709036744, 87.55213505461768, 90.39721946375371, 92.45779543197617], \"learner_top1\": [63.6395233366435, 69.22045680238331, 72.75571002979146, 77.67626613704071, 78.81330685203575, 82.03574975173782, 83.37140019860973, 83.79344587884806, 85.5561072492552, 85.85898709036744], \"agg_valid_top1\": [97.66260162601627, 96.22733357673117, 96.44900374827382, 97.73151854817186, 98.07597027250206, 98.3661119515885, 98.4259714707329, 98.55468229652324, 98.33862692401661, 98.45844118492954]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=10\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.01092353525323, 67.31380337636544, 72.93942403177755, 77.5124131082423, 80.06454816285998, 83.05858987090367, 85.34260178748758, 87.99900695134062, 90.253227408143, 92.91459781529295], \"learner_top1\": [62.01092353525323, 67.18967229394241, 72.38828202581927, 76.62363455809334, 78.545183714002, 80.76961271102284, 82.20953326713008, 84.04667328699105, 84.38430983118172, 86.67328699106255], \"agg_valid_top1\": [98.31399167943945, 96.6117216117216, 96.7518133081047, 97.46687099972957, 97.76125434413643, 98.11093550086551, 97.96189942568986, 97.90115532734275, 98.07150728541693, 97.89044088061159]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=10\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.606752730883805, 78.09831181727904, 80.22343594836147, 82.18470705064547, 86.86196623634558, 88.73882820258193, 91.54419066534261, 92.9245283018868, 94.40913604766634, 95.54121151936444], \"learner_top1\": [62.606752730883805, 76.92651439920556, 76.92651439920556, 76.92651439920556, 82.73088381330686, 82.73088381330686, 84.94041708043693, 84.94041708043693, 84.94041708043693, 87.61171797418073], \"agg_valid_top1\": [97.65127388535032, 96.72653534183083, 96.65092689751661, 96.58999517452148, 97.00880967014956, 96.84833821469502, 97.01016663658785, 96.92672730354217, 96.75476926356176, 97.03094726920457]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=0\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [61.33068520357497, 74.96027805362463, 77.14995034756703, 84.4488579940417, 86.57894736842105, 89.42899702085401, 92.3485600794439, 94.32472691161867, 95.71996027805363, 96.7974180734856], \"learner_top1\": [61.33068520357497, 73.77358490566037, 73.77358490566037, 81.4051638530288, 81.4051638530288, 84.2154915590864, 85.92353525322741, 86.80734856007945, 88.38629592850049, 88.38629592850049], \"agg_valid_top1\": [97.53756260434056, 95.62332904247945, 95.51820728291317, 96.08938547486034, 96.03195917819257, 96.70835666728891, 97.17633274751026, 97.44507461042893, 97.52962865420068, 97.5430969111774]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=10\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.76067527308838, 70.17874875868918, 73.83813306852036, 77.18470705064549, 80.4865938430983, 84.29990069513407, 86.07249255213505, 87.7656405163853, 88.87785501489573, 91.39026812313803], \"learner_top1\": [62.76067527308838, 69.96524329692156, 73.35650446871897, 76.34558093346574, 78.92750744786494, 82.08043694141013, 83.6643495531281, 85.06454816285998, 84.77656405163853, 85.8738828202582], \"agg_valid_top1\": [97.57709251101322, 96.43266658173016, 96.88147534189805, 97.35991379310344, 97.75180585991396, 98.22557307135786, 98.42924561527083, 98.4335922074503, 98.50439334455038, 98.33968905837489]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=10\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [63.550148957298916, 70.67527308838133, 72.98907646474677, 77.14995034756703, 80.78947368421052, 84.240317775571, 86.19165839126117, 88.6196623634558, 90.83912611717975, 92.36345580933467], \"learner_top1\": [63.550148957298916, 70.45183714001986, 72.69116186693148, 76.1519364448858, 78.81330685203575, 82.025819265144, 83.12313803376365, 84.80139026812313, 85.59086395233366, 85.59086395233366], \"agg_valid_top1\": [97.64865915274, 96.4185649896455, 96.28892647497761, 96.63571053092693, 97.18107978977544, 97.6304347826087, 98.08803301237964, 97.88496748532104, 97.8583683369816, 97.78410359455235]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=10\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.76067527308838, 77.54220456802383, 83.37140019860973, 85.72492552135054, 90.39721946375371, 92.720953326713, 94.38430983118172, 96.1717974180735, 97.47269116186693, 97.94438927507449], \"learner_top1\": [62.76067527308838, 76.43992055610725, 80.75471698113208, 80.75471698113208, 85.85898709036744, 86.70307845084409, 86.70307845084409, 87.82522343594836, 88.19265143992055, 88.19265143992055], \"agg_valid_top1\": [98.54050109462418, 96.60175997004306, 96.69263672471739, 96.64589314473776, 97.37122113037492, 97.7708321047355, 97.71140418929403, 98.06451612903226, 98.25641556291392, 98.35071185081212]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=0\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [61.698113207547166, 76.89672293942404, 79.21549155908639, 84.20556107249256, 86.43992055610725, 88.78351539225422, 91.46474677259185, 93.1330685203575, 94.71698113207547, 95.96325719960278], \"learner_top1\": [61.698113207547166, 75.93843098311818, 75.93843098311818, 81.03277060575968, 81.03277060575968, 81.03277060575968, 84.9304865938431, 86.13704071499504, 86.13704071499504, 86.13704071499504], \"agg_valid_top1\": [97.54537953795379, 96.29162217260459, 95.94927791475871, 96.00786770598091, 96.01185664241444, 96.02454141363552, 96.65348521513309, 96.92756223368468, 96.87135433237883, 96.79285496803004]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=20\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [60.32770605759682, 68.61966236345582, 74.87586891757697, 77.37835153922542, 80.07944389275075, 83.09831181727904, 84.52830188679246, 87.214498510427, 89.52830188679245, 91.81727904667328], \"learner_top1\": [60.32770605759682, 68.49553128103277, 74.4240317775571, 76.71797418073486, 78.24726911618669, 81.13207547169812, 81.65342601787488, 83.88778550148957, 85.58093346573982, 86.3604766633565], \"agg_valid_top1\": [97.94792586054723, 97.10373880989994, 97.64668967681204, 97.75690708489103, 97.79830131112394, 97.64679176755448, 97.7449947312961, 97.68797484935814, 97.81057510520216, 97.61741906064752]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=50\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.12512413108242, 69.52333664349553, 75.26315789473685, 77.82025819265144, 80.35253227408144, 81.83714001986098, 84.93545183714002, 87.32869910625621, 88.75868917576962, 91.68818272095332], \"learner_top1\": [62.12512413108242, 69.33465739821251, 74.7269116186693, 77.04071499503475, 78.8927507447865, 79.72691161866932, 81.73783515392255, 83.82820258192652, 83.82820258192652, 85.76464746772592], \"agg_valid_top1\": [97.7155793373122, 97.14540588760036, 97.17028802425467, 97.75260200792115, 97.8688253758467, 98.05343511450381, 98.12108559498957, 98.00541575853643, 97.90192427063936, 98.06607100869974]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=20\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [61.434955312810324, 76.52929493545184, 78.8679245283019, 84.75670307845084, 86.78252234359483, 90.17378351539226, 91.82224428997021, 93.64945382323734, 95.11916583912611, 96.08242303872889], \"learner_top1\": [61.434955312810324, 75.33267130089374, 75.33267130089374, 81.46474677259185, 81.46474677259185, 85.01489572989075, 85.62562065541212, 87.28401191658392, 87.60675273088381, 87.55213505461768], \"agg_valid_top1\": [97.54289345477653, 96.9341749323715, 96.74722878429948, 96.41715116279069, 96.35248112189859, 96.76221135392807, 96.8543530374788, 97.15792395226201, 97.2566844919786, 97.25741696647374]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=20\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.388282025819265, 77.01092353525323, 82.5571002979146, 86.14697120158887, 87.75074478649454, 90.52135054617676, 92.17974180734856, 93.8033763654419, 95.03972194637538, 95.54617676266137], \"learner_top1\": [62.388282025819265, 75.83416087388282, 80.43197616683217, 82.89473684210526, 82.89473684210526, 85.24329692154916, 86.71797418073486, 87.74577954319763, 86.31578947368422, 86.31578947368422], \"agg_valid_top1\": [97.97892926252419, 96.50225977598743, 96.50355169692186, 96.74112823412979, 96.53167734689832, 96.81603773584906, 96.89092172301991, 96.97949786207653, 96.98382085074468, 96.8293058334616]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=50\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [61.87686196623634, 75.83912611717975, 78.11320754716982, 84.40913604766634, 86.27606752730884, 89.28997020854021, 90.95829195630586, 93.23237338629593, 94.493545183714, 95.79940417080437], \"learner_top1\": [61.87686196623634, 74.52830188679245, 74.52830188679245, 80.98311817279047, 80.98311817279047, 84.23535253227408, 84.23535253227408, 86.77755710029793, 86.77755710029793, 87.42303872889772], \"agg_valid_top1\": [97.45297805642633, 96.0268770084721, 95.8898042342103, 96.19089316987741, 96.06240713224369, 96.75902708124373, 96.559660096778, 96.85587089593768, 96.72963962533736, 97.07805688187669]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=50\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [63.57000993048659, 71.55412115193644, 72.12015888778551, 76.43495531281033, 79.25521350546177, 82.4180734856008, 84.83614697120159, 87.04568023833168, 87.9245283018868, 90.53128103277061], \"learner_top1\": [63.57000993048659, 71.38530287984112, 71.38530287984112, 75.5511420059583, 77.97418073485602, 80.81926514399206, 82.47269116186693, 83.7537239324727, 83.7537239324727, 85.3674280039722], \"agg_valid_top1\": [98.043254376931, 97.2871137905049, 97.39449949894221, 97.5977653631285, 97.9175484635571, 98.09065507606334, 98.4480382913917, 98.53822835971707, 98.49462365591398, 98.57185361499555]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=0\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.576961271102284, 75.28798411122145, 82.08043694141013, 85.30784508440914, 87.85998013902682, 89.88083416087387, 90.97815292949355, 92.80039721946375, 94.33465739821251, 94.7219463753724], \"learner_top1\": [62.576961271102284, 74.11618669314797, 80.02482621648461, 82.45283018867924, 83.65441906653426, 85.59582919563059, 85.59582919563059, 86.07745779543198, 87.01092353525323, 85.23833167825224], \"agg_valid_top1\": [98.34866713847606, 96.14462644826209, 96.57651768935371, 96.75671822653075, 96.76511954992968, 96.4347290640394, 96.10291991905174, 96.19670676941841, 96.40130279246088, 96.12776777200975]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=10\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [60.009930486593845, 74.8162859980139, 81.1767626613704, 86.39026812313804, 89.15590863952335, 91.46474677259185, 93.19761668321748, 94.84607745779543, 96.27110228401192, 96.92651439920556], \"learner_top1\": [60.009930486593845, 73.37140019860972, 78.56007944389275, 83.2472691161867, 84.55312810327706, 85.00993048659384, 86.77755710029793, 86.77755710029793, 85.52135054617676, 86.50446871896723], \"agg_valid_top1\": [97.51977763523627, 95.82993474714519, 95.72248726449422, 96.56088354536558, 96.958900623489, 97.22089123143269, 97.27736812251844, 97.20855614973262, 97.34022903583302, 97.81119637431117]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=50\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [61.231380337636544, 77.91459781529295, 83.26713008937438, 88.24230387288978, 91.11221449851043, 93.6643495531281, 95.26315789473684, 97.02581926514398, 97.89473684210527, 98.25223435948361], \"learner_top1\": [61.231380337636544, 76.40019860973187, 80.25819265143991, 84.19066534260179, 85.1390268123138, 86.8669314796425, 86.8669314796425, 87.9046673286991, 87.9046673286991, 88.24726911618669], \"agg_valid_top1\": [97.336804164998, 96.24312482520742, 96.36115533318171, 96.96388411165499, 97.45642667980539, 97.89765507681645, 97.87268593699253, 98.24149446879565, 98.28562835229836, 98.66666666666667]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=20\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.01092353525323, 76.16683217477657, 82.27408142999006, 86.5888778550149, 88.78351539225422, 91.56901688182721, 93.81330685203575, 95.55610724925522, 96.91161866931479, 97.82025819265144], \"learner_top1\": [62.01092353525323, 74.82621648460774, 79.70705064548163, 82.88977159880834, 82.88977159880834, 85.26315789473684, 86.74280039721947, 86.97120158887786, 87.70109235352533, 87.70109235352533], \"agg_valid_top1\": [97.33047544816836, 95.94388242030922, 96.03945018249593, 96.7014008695052, 96.7682304946456, 97.21134448795539, 97.62145181196006, 97.82843560933449, 98.14470284237726, 98.27048768225238]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=50\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [59.59781529294935, 74.34955312810328, 83.16782522343595, 87.43296921549157, 89.77159880834161, 91.88679245283019, 94.27507447864946, 95.91360476663357, 97.09036742800397, 97.6266137040715], \"learner_top1\": [59.59781529294935, 72.71598808341608, 80.54617676266137, 83.76365441906654, 84.42403177755709, 84.42403177755709, 87.10526315789474, 87.91459781529295, 87.91459781529295, 87.91459781529295], \"agg_valid_top1\": [97.35025606769094, 95.74062938464623, 96.3255202289781, 97.09121130272179, 97.12311557788945, 97.1887079770411, 97.62696828565092, 97.72558583395185, 97.71830415865628, 98.10922256864126]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=0\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.31380337636544, 76.41509433962264, 82.32869910625621, 84.6077457795432, 86.13704071499504, 88.74379344587885, 90.21847070506455, 92.24925521350546, 93.9175769612711, 95.28798411122145], \"learner_top1\": [62.31380337636544, 75.15888778550149, 80.56603773584906, 81.88679245283019, 81.88679245283019, 84.10625620655412, 84.10625620655412, 85.39721946375373, 85.39721946375373, 87.36842105263159], \"agg_valid_top1\": [98.28278322925958, 96.75788221296847, 96.60428018636973, 96.3582047087275, 96.18546530746464, 96.33820329499534, 96.27394692131935, 96.30273788150808, 96.2136181575434, 96.61949685534591]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=10\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.33366434955313, 76.05263157894737, 81.82224428997021, 85.8987090367428, 87.63157894736841, 89.13108242303873, 91.60377358490565, 93.48560079443892, 94.93545183714002, 95.74975173783515], \"learner_top1\": [62.33366434955313, 74.77159880834161, 79.72691161866932, 82.8351539225422, 82.8351539225422, 82.8351539225422, 84.98013902681232, 85.98311817279047, 87.15988083416087, 87.15988083416087], \"agg_valid_top1\": [98.08074123097286, 96.29593527634273, 96.16509844231832, 96.38072525776812, 96.24290652925445, 96.0942760942761, 96.62704222053054, 97.0187440903276, 96.95795285623274, 96.9367991845056]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=0\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [60.61569016881827, 77.31380337636544, 81.71300893743793, 83.2025819265144, 87.53723932472691, 89.47368421052632, 91.30585898709037, 92.91459781529295, 94.44389275074478, 95.13406156901688], \"learner_top1\": [60.61569016881827, 76.42999006951341, 79.75173783515392, 79.75173783515392, 84.18570009930487, 85.27308838133068, 85.29791459781529, 85.29791459781529, 86.14200595829196, 86.14200595829196], \"agg_valid_top1\": [97.84063917080545, 96.15831236694406, 96.62586834270593, 96.47326507394767, 96.78795148607223, 96.7691733067729, 96.83241904087771, 96.7461197339246, 96.79019073569482, 96.6782581616235]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=10\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.12512413108242, 76.46971201588877, 82.53227408142999, 85.71996027805362, 88.51539225422046, 90.60575968222443, 92.214498510427, 93.90764647467726, 94.85104270109235, 95.58093346573983], \"learner_top1\": [62.12512413108242, 75.38232373386296, 80.38232373386296, 82.72095332671302, 84.33962264150944, 85.5561072492552, 85.5561072492552, 86.24131082423038, 87.67130089374379, 87.67130089374379], \"agg_valid_top1\": [97.6407284768212, 96.25178826895565, 96.21562328606127, 96.59825695811077, 96.86702858264111, 96.97212629501728, 96.95901023298838, 96.96040156162854, 96.87848383500557, 96.78538626390448]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=50\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.3038728897716, 77.1648460774578, 82.25422045680239, 86.48957298907646, 89.43892750744786, 92.2095332671301, 94.11122144985104, 95.54617676266137, 96.961271102284, 97.57696127110228], \"learner_top1\": [62.3038728897716, 76.11221449851043, 79.46871896722939, 82.59682224428997, 83.92254220456803, 86.18172790466733, 86.63356504468719, 86.63356504468719, 86.63356504468719, 86.63356504468719], \"agg_valid_top1\": [98.20994475138122, 95.88902202968016, 96.16043613707164, 96.72722229926501, 97.12244109694863, 97.40676857193839, 97.56234239282712, 97.54241319169176, 97.64634577503915, 98.04532435556003]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=20\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [61.047666335650455, 77.26911618669314, 79.48857994041708, 85.63555114200597, 89.07149950347566, 91.64349553128103, 93.51042701092354, 95.10427010923536, 96.56405163853029, 97.33366434955313], \"learner_top1\": [61.047666335650455, 76.09731876861966, 76.09731876861966, 82.18470705064547, 84.68222442899702, 85.78450844091361, 86.74776564051638, 86.74776564051638, 86.74776564051638, 86.92651439920556], \"agg_valid_top1\": [97.33473242392445, 96.39234449760765, 96.37781629116118, 97.07759245830312, 97.44286916553376, 97.69132884930013, 97.66873258656963, 97.57091533058073, 97.51353007250077, 98.02665564624445]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_greedy-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=0\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.269116186693154, 76.08738828202581, 77.88480635551142, 83.51539225422046, 85.06454816285998, 86.56901688182721, 90.08937437934459, 91.59880834160874, 93.5253227408143, 94.58291956305858], \"learner_top1\": [62.269116186693154, 75.0446871896723, 75.0446871896723, 81.23634558093346, 81.23634558093346, 81.23634558093346, 85.63555114200597, 85.63555114200597, 87.08540218470705, 87.74577954319763], \"agg_valid_top1\": [97.87323647083596, 95.99879056641805, 95.7905355832722, 96.55959811234587, 96.55778011942395, 96.38951795535425, 96.52470391195119, 96.4864712195673, 96.6610104548689, 96.54334038054968]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=0\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [61.25620655412115, 77.06057596822245, 81.7974180734856, 84.29990069513407, 86.19165839126117, 89.6325719960278, 91.23138033763655, 92.55213505461768, 93.53525322740815, 94.62760675273088], \"learner_top1\": [61.25620655412115, 75.88381330685203, 79.80635551142005, 81.45978152929494, 81.45978152929494, 85.24826216484608, 85.06454816285998, 85.06454816285998, 85.06454816285998, 87.27904667328698], \"agg_valid_top1\": [97.94749403341288, 96.17271835132483, 96.02556109725685, 95.9026254334442, 95.63479058792686, 96.100583090379, 96.1947983941351, 96.06407574589893, 95.71098993288591, 96.16424116424116]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=50\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.606752730883805, 77.15491559086395, 79.05660377358491, 84.85104270109235, 87.79543197616682, 90.21847070506455, 92.14995034756703, 93.4111221449851, 94.70208540218471, 95.97318768619662], \"learner_top1\": [62.606752730883805, 76.07249255213505, 76.07249255213505, 81.84210526315789, 83.49056603773585, 85.74975173783515, 86.53426017874875, 86.53426017874875, 86.53426017874875, 86.75769612711022], \"agg_valid_top1\": [97.91750909826122, 96.31345300135109, 96.19469026548673, 96.3519771998575, 96.65894806483625, 96.88477341019194, 96.86918063314711, 96.6712441636913, 96.57294872463616, 97.11321842091476]}, \"imagenet_split_4-byol_r50-efficient_annotation-push_greedy-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=10\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.45283018867924, 77.65640516385302, 80.0695134061569, 86.24131082423038, 88.31181727904668, 91.14697120158888, 92.84011916583913, 94.50844091360476, 96.266137040715, 97.18967229394241], \"learner_top1\": [62.45283018867924, 76.3803376365442, 76.3803376365442, 82.73584905660377, 82.73584905660377, 84.85104270109235, 84.85104270109235, 84.85104270109235, 88.26713008937438, 88.26713008937438], \"agg_valid_top1\": [97.60802469135803, 96.21762623439538, 96.11748818365969, 96.48234232984112, 96.5792181069959, 97.13300671384503, 97.07615593834996, 96.97633420588707, 97.6741771363306, 97.84734825569672]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=50-n_experts=0-n_gold_qs=50\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [61.70804369414101, 76.62363455809334, 78.97715988083417, 83.86295928500496, 87.57696127110228, 89.41906653426018, 91.50943396226415, 93.0883813306852, 94.82125124131082, 95.86395233366434], \"learner_top1\": [61.70804369414101, 75.45680238331678, 75.45680238331678, 79.82125124131082, 83.77358490566039, 83.77358490566039, 85.31777557100297, 85.31777557100297, 87.28401191658392, 87.94438927507447], \"agg_valid_top1\": [97.99205648720212, 96.29809560823941, 96.08806245066222, 96.02450944634911, 96.67874794069192, 96.59805250831998, 96.9343237825728, 96.79800221975583, 97.16773257376256, 97.27834623175609]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=45-n_experts=5-n_gold_qs=20\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.393247269116195, 77.4428997020854, 81.67825223435948, 85.30287984111222, 87.82522343594836, 90.74975173783515, 92.16981132075472, 93.56504468718967, 95.16881827209534, 96.07249255213506], \"learner_top1\": [62.393247269116195, 76.1022840119166, 79.46375372393247, 81.98609731876863, 83.82820258192652, 85.6901688182721, 85.6901688182721, 85.6901688182721, 85.6901688182721, 88.24230387288978], \"agg_valid_top1\": [97.83982066435703, 96.25617635879894, 96.04265402843602, 96.1926798485486, 96.56811669705652, 97.05810843666424, 96.9222833562586, 96.68511284722221, 96.66546224126361, 97.17800289435601]}, \"imagenet_split_4-byol_r50-efficient_annotation-pull_random-hit_size=400-n_crowds=180-n_experts=20-n_gold_qs=0\": {\"x\": [99.99999999999646, 199.99999999999292, 299.99999999998937, 399.99999999998585, 499.9999999999823, 599.9999999999787, 699.9999999999752, 799.9999999999717, 899.9999999999682, 999.9999999999646], \"agg_top1\": [62.8103277060576, 76.012909632572, 81.97120158887785, 85.59582919563059, 87.96921549155908, 90.50148957298909, 91.7279046673287, 93.07348560079444, 94.47864945382324, 95.46673286991063], \"learner_top1\": [62.8103277060576, 75.0, 79.95531281032771, 82.6961271102284, 83.71400198609732, 86.08738828202583, 86.22144985104269, 86.22144985104269, 86.22144985104269, 88.53525322740813], \"agg_valid_top1\": [97.62738234150136, 96.28015406446382, 96.18835861192726, 96.5478450397244, 96.53404296748232, 96.60211910851298, 96.46294792995477, 96.29162323769818, 96.23605463455323, 96.77369558505711]}}"
results = JSON.parse(results);
